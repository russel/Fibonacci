plugins {
	id 'java'
	id 'groovy'
}

sourceCompatibility = 12

repositories {
	jcenter()
	mavenCentral()
}

dependencies {
	testCompile 'org.codehaus.groovy:groovy:2.5+'
	testCompile ('org.spockframework:spock-core:1.3-groovy-2.5') {
		exclude module: 'groovy'
	}
	testCompile ('com.nagternal:spock-genesis:+') {
		exclude module: 'groovy'
	}
	testCompile 'com.pholser:junit-quickcheck-core:+'
	testCompile 'com.pholser:junit-quickcheck-generators:+'
	testCompile 'org.testng:testng:6.+'
	// TestNG marks this as a provided dependency.
	testCompile 'com.google.inject:guice:2.+'
}

task test_TestNG(type: Test) { useTestNG() }
test.dependsOn test_TestNG

clean.doLast {
	delete 'test-output'
}

defaultTasks 'test'
